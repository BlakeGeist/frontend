'use strict';

const _ = require('lodash');
const Joi = require('joi');
const buildSchema = require('./../build-schema');
const common = require('../common');

const baseFields = {
  id: common.id
};

const detailFields = {
  id: common.id,
  category_id: common.id,
  lang: common.lang,
  region: common.region,
  name: common.name,
  slug: common.slug,
  description: common.description,
  details: Joi.string().allow(null, ''),
  seo_title: Joi.string().max(500).allow(null),
  seo_keywords: Joi.string().max(500).allow(null),
  display_main_title: Joi.string().max(500),
  display_sub_title: Joi.string().max(500),
  facebook_share_text: Joi.string().max(500),
  twitter_share_text: Joi.string().max(500),
  featured_merchant_id: common.id.allow(null),
  banner_wide_asset_id: common.id,
  banner_email_asset_id: common.id,
  banner_mobile_asset_id: common.id,
  banner_environment_asset_id: common.id,
  collection_card_asset_id: common.id,
  social_share_asset_id: common.id,
  twitter_header_asset_id: common.id,
  facebook_cover_asset_id: common.id,
  active: common.active,
  allowed_regions: Joi.string().max(500).allow('')
};

const requiredForPost = [];

const attributeFields = {};

var additionalForbiddenAttribs = [];

module.exports = buildSchema(_.merge(baseFields, detailFields), requiredForPost, attributeFields, additionalForbiddenAttribs);
