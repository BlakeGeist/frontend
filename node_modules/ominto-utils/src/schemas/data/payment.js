'use strict';

const Joi = require('joi');
const buildSchema = require('./../build-schema');
const common = require('../common');

const baseFields = {
  id: common.id,
  user_id: common.id,
  payment_method_id: common.id,
  source_payment_id: Joi.string().max(255),
  name: common.name,
  slug: common.slug,
  description: common.description,
  type: Joi.string().max(40),
  gateway: common.gateway,
  amount: Joi.number().integer().min(1).max(9999999999).description('Currency amount in the lowest subdivision of the currency, e.g. cents for USD'),
  currency: common.currency,
  status: Joi.string().max(40),
  recurring: Joi.number().integer().max(1)
};

const requiredForPost = [];

const attributeFields = {
  stripe_id: Joi.string(),
  charge_id: Joi.string()
};

const additionalForbiddenAttribs = [];

module.exports = buildSchema(baseFields, requiredForPost, attributeFields, additionalForbiddenAttribs);
