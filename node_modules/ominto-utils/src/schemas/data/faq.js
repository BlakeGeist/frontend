'use strict';

const Joi = require('joi');
const buildSchema = require('./../build-schema');
const common = require('../common');

const baseFields = {
  id: common.id,
  name: common.name.required(),
  lang: common.lang.required(),
  region: common.region,
  entries: Joi.array().items(Joi.object().keys({
    question: Joi.string().max(255).required(),
    answer: Joi.string().max(5000).required()
  }))
};

const requiredForPost = ['name', 'lang', 'region', 'entries'];

const attributeFields = {};

const additionalForbiddenAttribs = [];

module.exports = buildSchema(baseFields, requiredForPost, attributeFields, additionalForbiddenAttribs);
