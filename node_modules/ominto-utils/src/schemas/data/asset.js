'use strict';

const Joi = require('joi');
const buildSchema = require('./../build-schema');
const common = require('../common');

const asset = Joi.string().max(500).allow(null);

const baseFields = {
  id: common.id,
  name: common.name.required(),
  source: Joi.string().max(500),
  original_source: Joi.string().max(500),
  small: asset,
  medium: asset,
  large: asset,
  dpi_1: asset,
  dpi_1325: asset,
  dpi_15: asset,
  dpi_18: asset,
  dpi_2: asset,
  dpi_24: asset,
  dpi_26: asset,
  dpi_3: asset,
  dpi_35: asset,
  dpi_4: asset,
  bgColor: Joi.string().regex(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/, 'Hexadecimal with leading #').min(4).max(7).description("Hex code of the asset's background color"),
  primaryColor: Joi.string().regex(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/, 'Hexadecimal with leading #').min(4).max(7).description("Hex code of the asset's primary color"),
  last_uploaded: Joi.date(),
  last_processed: Joi.date()
};

const requiredForPost = ['name', 'source'];

const attributeFields = {};

const additionalForbiddenAttribs = [];

module.exports = buildSchema(baseFields, requiredForPost, attributeFields, additionalForbiddenAttribs);
