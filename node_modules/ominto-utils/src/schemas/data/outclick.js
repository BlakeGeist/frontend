'use strict';

const Joi = require('joi');
const buildSchema = require('./../build-schema');
const common = require('../common');

const baseFields = {
  id: common.id,
  sub_id: Joi.string().max(40),
  user_id: common.id,
  merchant_id: common.id,
  rate_id: common.id.allow(null),
  deal_id: common.id.allow(null),
  override_rate: Joi.number().integer().min(0),
  points: Joi.number().integer().min(0),
  state: Joi.string().max(40)
};

const requiredForPost = ['sub_id', 'user_id', 'merchant_id'];

const attributeFields = {};

const additionalForbiddenAttribs = [];

module.exports = buildSchema(baseFields, requiredForPost, attributeFields, additionalForbiddenAttribs);
