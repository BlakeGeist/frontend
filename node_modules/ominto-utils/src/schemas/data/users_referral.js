'use strict';

const Joi = require('joi');
const buildSchema = require('./../build-schema');
const common = require('../common');

const baseFields = {
    id: common.id,
    whitelabel: common.whitelabel,
    email: common.email,
    user_id: common.id,
    status: Joi.string(),
    referrer_id: Joi.number(),
    source: Joi.string(),
    referral_bonus: Joi.string(),
    referral_vip_bonus : Joi.string(),
    invitation_date: Joi.date(),
    signup_date : Joi.date().iso(),
    qualified_date : Joi.date().iso(),
    email_bounced: Joi.number().integer().max(1),
    created: Joi.date().iso(),
    last_updated: Joi.date().iso()

};

const requiredForPost = ['email','whitelabel'];

const attributeFields = {
    twitter_screen_name: Joi.string().max(255),
    paypal_id: Joi.string().max(255),
    stripe_account_id: Joi.string().max(255),
    stripe_customer_id: Joi.string().max(255)
};

const additionalForbiddenAttribs = ['email_address', 'phone_number'];

module.exports = buildSchema(baseFields, requiredForPost, attributeFields, additionalForbiddenAttribs);
/**
 * Created by dhruva on 9/20/16.
 */
